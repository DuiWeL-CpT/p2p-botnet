GITSOURCE=src
OUTPUT=demo
ROOTKIT=rootkit_demo
PRIVATE=private
PUBLIC=public
SOURCE=source
PYTHON=python
HTTP=http

rm $ROOTKIT -r

mkdir $OUTPUT
mkdir $OUTPUT/$ROOTKIT
touch $OUTPUT/$ROOTKIT/process

mkdir $OUTPUT/$ROOTKIT/$PRIVATE
touch $OUTPUT/$ROOTKIT/$PRIVATE/full_peer_list

mkdir $OUTPUT/$ROOTKIT/$PUBLIC
touch $OUTPUT/$ROOTKIT/$PUBLIC/peer_list
mkdir $OUTPUT/$ROOTKIT/$PUBLIC/$SOURCE
cp -r $GITSOURCE/$PYTHON/botnet_p2p $OUTPUT/$ROOTKIT/$PUBLIC/$SOURCE
cp $GITSOURCE/$PYTHON/server.py $OUTPUT/$ROOTKIT/$PUBLIC/$SOURCE
mkdir $OUTPUT/$ROOTKIT/$PUBLIC/$HTTP
cp $GITSOURCE/$HTTP/* $OUTPUT/$ROOTKIT/$PUBLIC/$HTTP

python3 $GITSOURCE/$PYTHON/generate_rsa_keys.py
mv private_key $OUTPUT
mv public_key $OUTPUT/$ROOTKIT/$PUBLIC/$SOURCE

